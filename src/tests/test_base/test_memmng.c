// ======================================================================================
// File         : test_memmng.c
// Author       : Wu Jie 
// Last Change  : 07/01/2010 | 00:05:42 AM | Thursday,July
// Description  : 
// ======================================================================================

///////////////////////////////////////////////////////////////////////////////
// includes
///////////////////////////////////////////////////////////////////////////////

#include "../../core/core_inc.h"

///////////////////////////////////////////////////////////////////////////////
// defines
///////////////////////////////////////////////////////////////////////////////

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

static void normal () {
    const int BUFFER_SIZE = 5;
    const int MAX_COUNT = 256;
    int i;
    void *ptr;

    ptr = ex_malloc ( 2048 * sizeof(void *) );
    for ( i = 0; i < MAX_COUNT; ++i )
    {
        char *testBuf = (char *)ex_malloc( sizeof(char)*BUFFER_SIZE ); 
        ((char **)ptr)[i] = testBuf;
        ex_free(testBuf);
    }
    ex_free(ptr);
}

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

static void memleak () {
}

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

void test_memmng ()
{
    normal ();
    memleak ();
}

