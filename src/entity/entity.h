// ======================================================================================
// File         : entity.h
// Author       : Wu Jie 
// Last Change  : 11/25/2010 | 17:16:24 PM | Thursday,November
// Description  : 
// ======================================================================================

// #################################################################################
#ifndef ENTITY_H_1290676586
#define ENTITY_H_1290676586
// #################################################################################

// ######################### 
#ifdef __cplusplus
extern "C" { 
#endif
// ######################### 

#include "component.h"

///////////////////////////////////////////////////////////////////////////////
// struct
///////////////////////////////////////////////////////////////////////////////

// ------------------------------------------------------------------ 
/*! 
 @struct ex_entity_t
 @details
*/// ------------------------------------------------------------------ 

EX_DEF_CLASS_BEGIN(ex_entity_t)
    strid_t _name;
    // NOTE: we don't use "ex_hashmap_t* _type_to_comp" because we may get base_type of the component 
    ex_array_t* _comps;
EX_DEF_CLASS_END(ex_entity_t)

///////////////////////////////////////////////////////////////////////////////
// functions
///////////////////////////////////////////////////////////////////////////////

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

ex_entity_t* ex_entity_alloc ();

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

void ex_entity_free ( ex_entity_t* _entity );

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

EX_RESULT ex_entity_add_comp ( ex_entity_t* _ent, ex_component_t* _comp );

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

ex_component_t* ex_entity_get_comp ( ex_entity_t* _ent, const char* _typename );

// ######################### 
#ifdef __cplusplus
} // end extern C 
#endif
// ######################### 


// #################################################################################
#endif // END ENTITY_H_1290676586
// #################################################################################


