// ======================================================================================
// File         : entity.h
// Author       : Wu Jie 
// Last Change  : 11/25/2010 | 17:16:24 PM | Thursday,November
// Description  : 
// ======================================================================================

// #################################################################################
#ifndef ENTITY_H_1290676586
#define ENTITY_H_1290676586
// #################################################################################

// ######################### 
#ifdef __cplusplus
extern "C" { 
#endif
// ######################### 

#include "component.h"

///////////////////////////////////////////////////////////////////////////////
// struct
///////////////////////////////////////////////////////////////////////////////

// ------------------------------------------------------------------ 
/*! 
 @struct ex_entity_t
 @details
*/// ------------------------------------------------------------------ 

EX_DEF_CLASS_BEGIN(ex_entity_t)
    strid_t _name;
    // NOTE: we don't use "ex_hashmap_t* _type_to_comp" because we may get base_type of the component 
    ex_array_t* _comps;
    // cached components 
    struct ex_trans2d_t* _trans2d;
EX_DEF_CLASS_END(ex_entity_t)

///////////////////////////////////////////////////////////////////////////////
// functions
///////////////////////////////////////////////////////////////////////////////

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

extern ex_entity_t* ex_entity_alloc ();

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

extern void ex_entity_free ( ex_entity_t* _ent );

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

extern ex_component_t* ex_entity_get_comp ( const ex_entity_t* _ent, strid_t _typeID );

// ------------------------------------------------------------------ 
// Desc: 
// ------------------------------------------------------------------ 

extern ex_component_t* ex_entity_add_comp ( ex_entity_t* _ent, strid_t _typeID );

// ######################### 
#ifdef __cplusplus
} // end extern C 
#endif
// ######################### 


// #################################################################################
#endif // END ENTITY_H_1290676586
// #################################################################################


